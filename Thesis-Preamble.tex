%-----------------------------------------------
% Dateiname: Thesis-Preamble.tex
% Autor    : Stefano Kowalke <blueduck@gmx.net>
% Lizenz   : BSD
%-----------------------------------------------

%----------------------------------
% Dokumentenklasse DINA4 einseitig
%----------------------------------
\documentclass[
	fontsize=11pt,            % Die Schriftgröße
	twoside=false,            % scrbook hat per Default ein Zwei-Seitenlayout
	parskip=full,             % Steuert die Absätze. http://www.rrzn.uni-hannover.de/fileadmin/kurse/material/latex/scrguide.pdf Tabelle 3.7
	headsepline,              % Fügt eine Trennungslinie in den Seitenkopf
	footnotes=multiple,       % Fügt ein Komma zwischen den Indexzahlen bei aufeinanderfolgende Fußnoten ein
	numbers=noendperiod       % Keinen Punkt der letzten Gliederungsebene in der Überschrift  -> 1.2.1 statt 1.2.1.
]{scrbook}

%===============
% Pakete laden
%===============
\usepackage{fontspec}                      % Wird von LuLaTeX benöigt und löst "fontenc" ab.
\usepackage{polyglossia}                   % Wird von LuLaTeX benöigt und löst "babel" ab.            
\usepackage[draft]{microtype}              % mikrotypographische Optimierungen
\usepackage{layout}                        % Zeigt die Berechnung der Seite graphisch an
\usepackage{hologo}                        % Wird zum rendern des LaTeX und LuLaTeX "Logos" verwendet
\usepackage{ifluatex}                      % Testen ob LuLaTeX installiert ist
\usepackage{hyperref}                      % Stellt Links in Schreibmaschinenschrift dar und legt einen Link über den Text. 
                                           % Dieses Package sollte als letztes aufgerufen werden, da es Problem mit Anderen geben könnte
\usepackage[
    xindy={language=german,codepage=din5007-utf8}, % Ruft Xindy zum Erstellen des Index in der deutschen Version auf
    toc,                                   % Fügt die Glossare dem Inhaltsverzeichnis zu
    acronym,                               % Erstellt ein neues Glossar mit dem Label "acronym"
    nonumberlist,                          % Fügt die Seitenzahlen hinzu, auf denen der Eintrag vorkommt 
    nopostdot                              % Entferne den Punkt am Ende der Definition
    ]{glossaries}                          % Erstellt Glossar und Abkürzungsverzeichnis. Laut der Dokumentation ist es ausdrücklich notwendig, dass es nach dem Package hyperref eingebunden werden muß
\makeglossaries                            % Anweisung das Glossar zu erstellen

%=================================================
% Angaben zur Arbeit wie Titel und Name des Autor
%=================================================
\makeatletter
    \title{Titel der Bachelorthesis}\let\Title\@title
    \author{Kathrin Janeway}        \let\Author\@author
    \date{\today}                   \let\Date\@date
\makeatother
\def\NameOfDepartment{Transportwesen}
\def\AuthorEmail{<kathrin.janeway@starfleet.aca.edu>}
\def\Major{Stellarkartographie}
\def\MatricleNumber{123456}


%----------------
% Renew commands
%----------------
\renewcommand*{\multfootsep}{,\nobreakspace}  % Fügt bei den hochgestellten Indexzahlen von Fußnoten ein Leerzeichen nach dem Komma ein
\deffootnote{1em}{1em}{\thefootnotemark\ }    % Setzt die Indexzahlen in den Fußnoten etwas entfernt vom Text

%------------------
% Eigene Kommandos
%------------------

%------------------------------------------------
% Die aktuell benutze Version von LaTex erkennen
%------------------------------------------------
\makeatletter

\newcommand*{\InfoLaTeX}{%
  \hologo{\fmtname}
}

%---------------------------------------------------
% Die aktuell benutze Version von LuaLaTex erkennen
%---------------------------------------------------
\newcommand*{\InfoTeX}{%
	\ifluatex
		\hologo{LuaTeX}-%
      	\begingroup
			\count@=\luatexversion
			\divide\count@ by 100 %
			\edef\x{\the\count@}%
			\count@=-\x\relax
			\multiply\count@ by 100 %
			\advance\count@ by \luatexversion
			\x.\the\count@.\luatexrevision
		\endgroup
	\fi        
}
\makeatother

%====================
% Paketeinstellungen
%====================

%---------------------
% Spracheinstellungen
%
\setdefaultlanguage[spelling=new]{german}   % Die Sprache muß vor dem Einbinden von dem Blindtextpackage eingestellt werden
\usepackage{blindtext}                      % Erstellt schnell und einfach Blindtexte mit \Blindtext. Wird ausnahmsweise hier eingebunden


%-------------------
% Linkkonfiguration
%-------------------
\hypersetup
{
	pdftitle={\Title},
	pdfauthor={\Author},
	pdfsubject={\Title},
	pdfcreator={\Author},
	pdfkeywords={typo3} {dbal} {doctrine} {mysql} {postgres},
	linktoc=all,
	colorlinks=true,
	linkcolor=black,
	citecolor=black,
	filecolor=black,
	urlcolor=blue,
}

%-----------------
% Glossareinträge
%-----------------
% http://tex.stackexchange.com/questions/8946/how-to-combine-acronym-and-glossary
\newglossaryentry{dbal}
{
	type=\acronymtype, 
	name={DBAL}, 
	description={Database Abstraction Layer}, 
	first={Database Abstraction Layer (DBAL)}, 
	see=[Glossary:]{dbalg}
}

\newglossaryentry{bafög}
{
	type=\acronymtype, 
	name={BAföG}, 
	description={Bundesausbildungsförderungsgesetz}, 
	first={Bundesausbildungsförderungsgesetz (BAföG)}
}

%-------------
% Abkürzungen
%-------------
\newglossaryentry{dbalg}
{
	name={DBAL}, 
	description={A very long description of of what is DBAL}
}