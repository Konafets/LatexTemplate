%-----------------------------------------------
% Dateiname: Thesis-Preamble.tex
% Autor    : Stefano Kowalke <blueduck@gmx.net>
% Lizenz   : BSD
%-----------------------------------------------

%----------------------------------
% Dokumentenklasse DINA4 einseitig
%----------------------------------
\documentclass[
	fontsize=11pt,            % Die Schriftgröße
	twoside=false,            % scrbook hat per Default ein Zwei-Seitenlayout
	parskip=full,             % Steuert die Absätze. http://www.rrzn.uni-hannover.de/fileadmin/kurse/material/latex/scrguide.pdf Tabelle 3.7
	headsepline,              % Fügt eine Trennungslinie in den Seitenkopf
	footnotes=multiple,       % Fügt ein Komma zwischen den Indexzahlen bei aufeinanderfolgende Fußnoten ein
	numbers=noendperiod       % Keinen Punkt der letzten Gliederungsebene in der Überschrift  -> 1.2.1 statt 1.2.1.
]{scrbook}

\PassOptionsToPackage{
    %eulerchapternumbers,
	drafting
	%layout,
%	dottedtoc,
%	parts
}{thesis}


%===============
% Pakete laden
%===============
\usepackage{fontspec}                      % Wird von LuLaTeX benöigt und löst "fontenc" ab.
\usepackage{polyglossia}                   % Wird von LuLaTeX benöigt und löst "babel" ab.
\usepackage[german=quotes]{csquotes}       % Anführungszeichen global im Dokument steuern. Paket wird von "polyglossia" empfohlen.
\usepackage{ifthen}                        % Erlaubt Kontrollstrukturen in LaTeX
\usepackage{hologo}                        % Wird zum rendern des LaTeX und LuLaTeX "Logos" verwendet
\usepackage{ifluatex}                      % Testen ob LuLaTeX installiert ist
\usepackage[
	backend=biber,                         % Benutzer biber zur Erstellung
	bibwarn=true,                          % Warne, wenn das BiTex Format falsch ist
	autolang=other,
	style=authoryear,
	bibstyle=iso-authoryear,
]
{biblatex}                                 % Nutze Biblatex zur Erstellung des Literaturverzeichnis
\addbibresource{Bibliography.bib}          % Die Literatureinträge
\usepackage{hyperref}                      % Stellt Links in Schreibmaschinenschrift dar und legt einen Link über den Text.
                                           % Dieses Package sollte als letztes aufgerufen werden, da es Problem mit Anderen geben könnte
\usepackage[
    xindy={language=german,codepage=din5007-utf8}, % Ruft Xindy zum Erstellen des Index in der deutschen Version auf
    toc,                                   % Fügt die Glossare dem Inhaltsverzeichnis zu
    acronym,                               % Erstellt ein neues Glossar mit dem Label "acronym"
    nonumberlist,                          % Fügt die Seitenzahlen hinzu, auf denen der Eintrag vorkommt
    nopostdot                              % Entferne den Punkt am Ende der Definition
    ]{glossaries}                          % Erstellt Glossar und Abkürzungsverzeichnis. Laut der Dokumentation ist es ausdrücklich notwendig, dass es nach dem Package hyperref eingebunden werden muß
\makeglossaries                            % Anweisung das Glossar zu erstellen

%=================================================
% Angaben zur Arbeit wie Titel und Name des Autor
%=================================================
\newcommand{\myTitle}{Titel der Bachelorthesis\xspace}
\newcommand{\mySubtitle}{Put your subtitle here\xspace}
\newcommand{\myDegree}{Put your degree here\xspace}
\newcommand{\myName}{Kathrin Janeway\xspace}
\newcommand{\myEMail}{<kathrin.janeway@starfleet.aca.edu>\xspace}
\newcommand{\myMatricleNumber}{Put your number here\xspace}
\newcommand{\myProf}{Prof. Vice Admiral Patterson\xspace}
\newcommand{\myOtherProf}{Prof. H'ohk\xspace}
\newcommand{\mySupervisor}{Put name here\xspace}
\newcommand{\myUni}{\uppercase{\large Akademie der Sternenflotte}\xspace}
\newcommand{\myDepartment}{Transportwesen\xspace}
\newcommand{\myFaculty}{Put data here\xspace}
\newcommand{\myMajor}{Stellarkartographie\xspace}
\newcommand{\myLocation}{San Francisco\xspace}
\newcommand{\myTime}{November 2013\xspace}
\newcommand{\myVersion}{version 4.1\xspace}


%----------------
% Renew commands
%----------------
\renewcommand*{\multfootsep}{,\nobreakspace}  % Fügt bei den hochgestellten Indexzahlen von Fußnoten ein Leerzeichen nach dem Komma ein
\deffootnote{1em}{1em}{\thefootnotemark\ }    % Setzt die Indexzahlen in den Fußnoten etwas entfernt vom Text

%---------------------------------------------------------------
% Renew the citation style from parenthesis to square brackets:
%---------------------------------------------------------------
% (Popel 2007, S. 59–63) -> [Popel 2007, S. 59–63]
% http://tex.stackexchange.com/questions/16765/biblatex-author-year-square-brackets
%---------------------------------------------------------------
\makeatletter
\newrobustcmd*{\parentexttrack}[1]{%
  \begingroup
  \blx@blxinit
  \blx@setsfcodes
  \blx@bibopenparen#1\blx@bibcloseparen
  \endgroup}

\AtEveryCite{%
  \let\parentext=\parentexttrack%
  \let\bibopenparen=\bibopenbracket%
  \let\bibcloseparen=\bibclosebracket}
\makeatother

%------------------
% Eigene Kommandos
%------------------

%------------------------------------------------
% Die aktuell benutze Version von LaTex erkennen
%------------------------------------------------
\makeatletter

\newcommand*{\InfoLaTeX}{%
  \hologo{\fmtname}
}

%---------------------------------------------------
% Die aktuell benutze Version von LuaLaTex erkennen
%---------------------------------------------------
\newcommand*{\InfoTeX}{%
	\ifluatex
		\hologo{LuaTeX}-%
      	\begingroup
			\count@=\luatexversion
			\divide\count@ by 100 %
			\edef\x{\the\count@}%
			\count@=-\x\relax
			\multiply\count@ by 100 %
			\advance\count@ by \luatexversion
			\x.\the\count@.\luatexrevision
		\endgroup
	\fi
}
\makeatother

%---------------------
% Spracheinstellungen
%---------------------
\setdefaultlanguage[spelling=new]{german}   % Die Sprache muß vor dem Einbinden von dem Blindtextpackage eingestellt werden
\usepackage{blindtext}                      % Erstellt schnell und einfach Blindtexte mit \Blindtext. Wird ausnahmsweise hier eingebunden


%-------------------
% Linkkonfiguration
%-------------------
\hypersetup
{
	pdftitle={\myTitle},
	pdfauthor={\myName},
	pdfsubject={\myTitle},
	pdfcreator={\myName},
	pdfkeywords={typo3} {dbal} {doctrine} {mysql} {postgres},
	linktoc=all,
	colorlinks=true,
	linkcolor=black,
	citecolor=black,
	filecolor=black,
	urlcolor=blue,
}

